<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Implantación de aplicaciones web PHP en docker | LucasBlog</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://github.com/oscarlucas22/atom.xml" title="LucasBlog Atom Feed">
    <link rel="alternate" type="application/json" href="https://github.com/oscarlucas22/rss.xml" title="LucasBlog JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://github.com/oscarlucas22/rss.xml" title="LucasBlog RSS Feed">
    <meta name="description" content="">
    <meta property="og:url" content="https://github.com/oscarlucas22/practicas/phpdocker.html">
    <meta property="og:site_name" content="LucasBlog">
    <meta property="og:title" content="Implantación de aplicaciones web PHP en docker">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta property="article:author" content="Óscar Lucas">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.a9db6349.css" as="style"><link rel="preload" href="/assets/js/app.3d4c9b3a.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.9c203d77.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.711f6750.js" as="script"><link rel="preload" href="/assets/js/page-ImplantacióndeaplicacioneswebPHPendocker.291f14d4.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout.e69d9580.js" as="script"><link rel="prefetch" href="/assets/js/46.51bf3281.js"><link rel="prefetch" href="/assets/js/47.251193c4.js"><link rel="prefetch" href="/assets/js/layout-Blog.ea94a014.js"><link rel="prefetch" href="/assets/js/layout-Layout.4c35ec6e.js"><link rel="prefetch" href="/assets/js/layout-NotFound.447ecb7b.js"><link rel="prefetch" href="/assets/js/layout-Slide.9b28cb33.js"><link rel="prefetch" href="/assets/js/page--2b761468.28bb23a2.js"><link rel="prefetch" href="/assets/js/page-ABD.22e1e92a.js"><link rel="prefetch" href="/assets/js/page-ASO.b679cadb.js"><link rel="prefetch" href="/assets/js/page-Almacenamiento.e7ea287a.js"><link rel="prefetch" href="/assets/js/page-Auditoría.4ececcdf.js"><link rel="prefetch" href="/assets/js/page-CompilacióndeunprogramaenCutilizandounMakefile.a9c8d45a.js"><link rel="prefetch" href="/assets/js/page-CortafuegosIDenodoconiptables.c6613c8c.js"><link rel="prefetch" href="/assets/js/page-CriptografíaICifradoasímetrico.d356b92f.js"><link rel="prefetch" href="/assets/js/page-CriptografíaIIICertificadosDigitalesHTTPS.559acd23.js"><link rel="prefetch" href="/assets/js/page-CriptografíaIIIntegridad,firmasyautenticación.422e470b.js"><link rel="prefetch" href="/assets/js/page-DesplieguedeaplicacionesJava.41f741fd.js"><link rel="prefetch" href="/assets/js/page-Desplieguedeaplicacionespython.66772321.js"><link rel="prefetch" href="/assets/js/page-Home.808c4ea8.js"><link rel="prefetch" href="/assets/js/page-IAW.a0b2cbfc.js"><link rel="prefetch" href="/assets/js/page-InformáticaForense.20aa68f8.js"><link rel="prefetch" href="/assets/js/page-InstalaciónyconfiguracióndeunservidordecorreosenelVPS.3df93e12.js"><link rel="prefetch" href="/assets/js/page-InstalaciónyconfiguracióninicialdeOpenLDAP.1f849ad4.js"><link rel="prefetch" href="/assets/js/page-InterconexiónServidores.39af98cc.js"><link rel="prefetch" href="/assets/js/page-LDAPs.c9e6c21c.js"><link rel="prefetch" href="/assets/js/page-LucasBlog.7df152bc.js"><link rel="prefetch" href="/assets/js/page-MariaDBenDebian11Bullseye.cc1516eb.js"><link rel="prefetch" href="/assets/js/page-MigrarCentos8aRockyLinux8.6831859e.js"><link rel="prefetch" href="/assets/js/page-MongoDBenDebian11Bullseye.b6a6de0e.js"><link rel="prefetch" href="/assets/js/page-Movimientodedatos.87207265.js"><link rel="prefetch" href="/assets/js/page-OracleenDebian11Bullseye.867ff757.js"><link rel="prefetch" href="/assets/js/page-PoblarundirectorioLDAPdesdeunficheroCSV.2a2fe389.js"><link rel="prefetch" href="/assets/js/page-PostgreSQLenDebian11Bullseye.a37bc3c3.js"><link rel="prefetch" href="/assets/js/page-Presentación.f00c1319.js"><link rel="prefetch" href="/assets/js/page-PrácticaEscenarioenOpenStack.7ddcd940.js"><link rel="prefetch" href="/assets/js/page-Recoleccióncentralizadadelogsdesistema,mediantejournald.fe5fccd1.js"><link rel="prefetch" href="/assets/js/page-SAD.29aa905f.js"><link rel="prefetch" href="/assets/js/page-SRI.87ff3505.js"><link rel="prefetch" href="/assets/js/page-ServidoresyClientesdeBasedeDatos.36514f76.js"><link rel="prefetch" href="/assets/js/page-USUARIOS.36b84dc5.js"><link rel="prefetch" href="/assets/js/page-VPN.ebe39bda.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.c07507b6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a9db6349.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/olucas.png" alt="LucasBlog" class="logo"> <!----> <span class="site-name can-hide">LucasBlog</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  Home
</a></div><div class="nav-item"><a href="/presentacion/" class="nav-link"><i class="iconfont icon-people"></i>
  Presentación
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Categorías" class="dropdown-title"><span class="title"><i class="iconfont icon-file"></i>
        Categorías
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/category/ASO.html" class="nav-link"><!---->
  ASO
</a></li><li class="dropdown-item"><a href="/category/ABD.html" class="nav-link"><!---->
  ABD
</a></li><li class="dropdown-item"><a href="/category/SRI.html" class="nav-link"><!---->
  SRI
</a></li><li class="dropdown-item"><a href="/category/SAD.html" class="nav-link"><!---->
  SAD
</a></li><li class="dropdown-item"><a href="/category/IAW.html" class="nav-link"><!---->
  IAW
</a></li></ul></div></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/oscarlucas22" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="/olucas.png" class="avatar round"> <div property="name" class="name">oscarlucas22</div> <meta property="url" content="/"></div> <div class="num-wrapper"><div><div class="num">33</div> <div>Articles</div></div> <div><div class="num">2</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">22</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/oscarlucas22" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  Home
</a></div><div class="nav-item"><a href="/presentacion/" class="nav-link"><i class="iconfont icon-people"></i>
  Presentación
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Categorías" class="dropdown-title"><span class="title"><i class="iconfont icon-file"></i>
      Categorías
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/ASO.html" class="nav-link"><!---->
  ASO
</a></li><li class="dropdown-item"><!----> <a href="/category/ABD.html" class="nav-link"><!---->
  ABD
</a></li><li class="dropdown-item"><!----> <a href="/category/SRI.html" class="nav-link"><!---->
  SRI
</a></li><li class="dropdown-item"><!----> <a href="/category/SAD.html" class="nav-link"><!---->
  SAD
</a></li><li class="dropdown-item"><!----> <a href="/category/IAW.html" class="nav-link"><!---->
  IAW
</a></li></ul></div></div> <a rel="noopener noreferrer" href="https://github.com/oscarlucas22" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <!----> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Implantación de aplicaciones web PHP en docker</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down" categoryPath="/category/$category/" tagPath="/tag/$tag/"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">Óscar Lucas</span></span><span aria-label="Page views🔢" data-balloon-pos="down" defaultAuthor="Óscar Lucas" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/practicas/phpdocker/" data-flag-title="Implantación de aplicaciones web PHP en docker" class="leancloud_visitors waline-visitor-count"><span class="leancloud-visitors-count">...</span></span></span><!----><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" defaultAuthor="Óscar Lucas" categoryPath="/category/$category/" tagPath="/tag/$tag/" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 4 min</span> <meta property="timeRequired" content="PT4M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/practicas/phpdocker/#tarea-1-creacion-de-una-imagen-docker-con-una-aplicacion-web-desde-una-imagen-base" class="anchor-link heading2"><div>Tarea 1: Creación de una imagen docker con una aplicación web desde una imagen base</div></a></li><li class="anchor"><a href="/practicas/phpdocker/#tarea-2-despliegue-en-el-entorno-de-desarrollo" class="anchor-link heading2"><div>Tarea 2: Despliegue en el entorno de desarrollo</div></a></li><li class="anchor"><a href="/practicas/phpdocker/#tarea-3-creacion-de-una-imagen-docker-con-una-aplicacion-web-desde-una-imagen-php" class="anchor-link heading2"><div>Tarea 3: Creación de una imagen docker con una aplicación web desde una imagen PHP</div></a></li><li class="anchor"><a href="/practicas/phpdocker/#tarea-4-ejecucion-de-una-aplicacion-php-en-docker-con-nginx-optativa" class="anchor-link heading2"><div>Tarea 4: Ejecución de una aplicación PHP en docker con nginx (OPTATIVA)</div></a></li><li class="anchor"><a href="/practicas/phpdocker/#tarea-5-puesta-en-produccion-de-nuestra-aplicacion" class="anchor-link heading2"><div>Tarea 5: Puesta en producción de nuestra aplicación</div></a></li><li class="anchor"><a href="/practicas/phpdocker/#tarea-6-modificacion-de-la-aplicacion" class="anchor-link heading2"><div>Tarea 6: Modificación de la aplicación</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="implantacion-de-aplicaciones-web-php-en-docker"><a href="#implantacion-de-aplicaciones-web-php-en-docker" class="header-anchor">#</a> Implantación de aplicaciones web PHP en docker</h1> <p><strong>Imaginemos que el equipo de desarrollo de nuestra empresa ha desarrollado una aplicación PHP que se llama <a href="https://github.com/evilnapsis/bookmedik" target="_blank" rel="noopener noreferrer">BookMedik<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</strong></p> <p><strong>Queremos crear una imagen Docker para implantar dicha aplicación.</strong></p> <p><strong>Tenemos que tener en cuenta los siguientes aspectos:</strong></p> <p><em><strong>Contenedor mariadb</strong></em></p> <ul><li><p><strong>Es necesario que nuestra aplicación guarde su información en un contenedor docker mariadb.</strong></p></li> <li><p><strong>El script para generar la base de datos y los registros lo encuentras en el repositorio y se llama schema.sql. Debes crear un usuario con su contraseña en la base de datos. La base de datos se llama bookmedik y se crea al ejecutar el script.</strong></p></li> <li><p><strong>Ejecuta el contenedor mariadb y carga los datos del script schema.sql. Para más información.</strong></p></li> <li><p><strong>El contenedor mariadb debe tener un volumen para guardar la base de datos.</strong></p></li></ul> <p><em><strong>Contenedor bookmedik</strong></em></p> <ul><li><p><strong>Vamos a crear tres versiones de la imagen que nos permite implantar la aplicación PHP.</strong></p></li> <li><p><strong>La imagen debe crear las variables de entorno necesarias con datos de conexión por defecto.</strong></p></li> <li><p><strong>Al crear un contenedor a partir de estas imágenes se ejecutará un script bash que realizará las siguientes tareas:</strong></p> <ul><li><p><strong>Modifique el fichero core\controller\Database.php para que lea las variables de entorno. Para obtener las variables de entorno en PHP usar la función getenv. Para más información.</strong></p></li> <li><p><strong>Inicialice la base de datos con el fichero schema.sql.</strong></p></li> <li><p><strong>Ejecute el servidor web.</strong></p></li></ul></li> <li><p><strong>El contenedor que creas debe tener un volumen para guardar los logs del servidor web.</strong></p></li> <li><p><strong>La imagen la tienes que crear en tu entorno de desarrollo con el comando docker build.</strong></p></li></ul> <hr> <p><em>Creación del contenedor MariaDB</em></p> <p>Primero creamos un contenedor con la imagen mariadb y que tenga las variables de entorno que nos han indicado. También crearemos una nueva red para la aplicación web.</p> <div class="language- extra-class"><pre><code>docker network create red_bookmedik
</code></pre></div><hr> <div class="language- extra-class"><pre><code>docker run -d --name db-mariadb -v bookmedik_vol:/var/lib/mysql --network red_bookmedik -e MARIADB_ROOT_PASSWORD=root -e MARIADB_DATABASE=bookmedik -e MARIADB_USER=admin -e MARIADB_PASSWORD=admin mariadb
</code></pre></div><p>Esto será para realizar las pruebas necesarias y comprobar que la imagen de la aplicación funcione como es debido.</p> <h2 id="tarea-1-creacion-de-una-imagen-docker-con-una-aplicacion-web-desde-una-imagen-base"><a href="#tarea-1-creacion-de-una-imagen-docker-con-una-aplicacion-web-desde-una-imagen-base" class="header-anchor">#</a> Tarea 1: Creación de una imagen docker con una aplicación web desde una imagen base</h2> <ul><li><p><strong>Vamos a crear una imagen que se llame usuario/bookmedik:v1.</strong></p></li> <li><p><strong>Crea una imagen docker con la aplicación desde una imagen base de debian o ubuntu.</strong></p></li></ul> <p>En primer lugar hemos hecho un fork del repositorio de bookmedik y lo hemos clonado en nuestro entorno de desarrollo. Una vez hecho esto, vamos a modificar el fichero schema.sql para que podamos ejecutarlo en un contenedor que ya tendrá una base de datos creada. Así pues, eliminamos las siguientes líneas de ese fichero:</p> <div class="language- extra-class"><pre><code>create database bookmedik;
use bookmedik;
</code></pre></div><p>A continuación modificamos el fichero <code>core/controller/Database.php</code> para que se configure a través de las variables de entorno que introduzcamos al crear el contenedor:</p> <div class="language- extra-class"><pre><code>&lt;?php
class Database {
        public static $db;
        public static $con;
        function Database(){
                $this-&gt;user=getenv('USER_BOOKMEDIK');$this-&gt;pass=getenv('PASSWD_BOOKMEDIK');$this-&gt;host=getenv('DB_HOST');$this-&gt;ddbb=getenv('NOMBRE_DB');
        }

        function connect(){
                $con = new mysqli($this-&gt;host,$this-&gt;user,$this-&gt;pass,$this-&gt;ddbb);
                $con-&gt;query(&quot;set sql_mode=''&quot;);
                return $con;
        }

        public static function getCon(){
                if(self::$con==null &amp;&amp; self::$db==null){
                        self::$db = new Database();
                        self::$con = self::$db-&gt;connect();
                }
                return self::$con;
        }
}
?&gt;
</code></pre></div><p>Con esto ya podemos crear el Dockerfile que usaremos para crear la imagen:</p> <div class="language- extra-class"><pre><code>nano Dockerfile
</code></pre></div><hr> <div class="language- extra-class"><pre><code>FROM debian:bullseye
MAINTAINER oscarlucas &quot;oscarlucasleo124@gmail.com&quot;
RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; apt install apache2 libapache2-mod-php php php-mysql mariadb-client -y &amp;&amp; apt clean &amp;&amp; rm -rf /var/lib/apt/lists/*
ADD bookmedik /var/www/html/
ADD script.sh /opt/
RUN chmod +x /opt/script.sh &amp;&amp; rm /var/www/html/index.html
ENTRYPOINT [&quot;/opt/script.sh&quot;]
</code></pre></div><p>Como vemos, al final le indicamos que ejecute un script. Dicho script lo hemos creado nosotros, y en él hacemos que introduzca la información del fichero schema.sql en la base de datos y hacemos que ejecute apache en modo demonio. El contenido del script es el siguiente:</p> <div class="language- extra-class"><pre><code>nano script.sh
</code></pre></div><hr> <div class="language- extra-class"><pre><code>#! /bin/sh

while ! mysql -u ${USER_BOOKMEDIK} -p${PASSWD_BOOKMEDIK} -h ${DB_HOST}  -e &quot;;&quot; ; do
        sleep 1
done
mysql -u $USER_BOOKMEDIK --password=$PASSWD_BOOKMEDIK -h $DB_HOST $NOMBRE_DB &lt; /var/www/html/schema.sql
/usr/sbin/apache2ctl -D FOREGROUND
</code></pre></div><p>Este script lo hemos introducido en el directorio bookmedik (el que hemos obtenido de la clonación de github) para que se añada al contenedor junto con el contenido de dicho directorio. Con esto ya podemos crear la imagen con el siguiente comando:</p> <div class="language- extra-class"><pre><code>docker build -t oscarlucas/bookmedik:v1 .
</code></pre></div><p>Una vez creada, ya la podemos ver en nuestro registro local:</p> <p>![image]</p> <h2 id="tarea-2-despliegue-en-el-entorno-de-desarrollo"><a href="#tarea-2-despliegue-en-el-entorno-de-desarrollo" class="header-anchor">#</a> Tarea 2: Despliegue en el entorno de desarrollo</h2> <ul><li><p><strong>Crea un script con docker-compose que levante el escenario con los dos contenedores.</strong></p></li> <li><p><strong>Recuerda que para acceder a la aplicación: Usuario: admin, contraseña: admin.</strong></p></li></ul> <p>Así pues, crearemos un fichero docker-compose.yaml con la configuración necesaria para levantar los dos contenedores:</p> <div class="language- extra-class"><pre><code>nano docker-compose.yaml
</code></pre></div><hr> <div class="language- extra-class"><pre><code>version: '3.1'
services:
  bookmedik:
    container_name: cont-bookmedik
    image: oscarlucas/bookmedik:v1
    restart: always
    environment:
      USER_BOOKMEDIK: admin
      PASSWD_BOOKMEDIK: admin
      DB_HOST: db-mariadb
      NOMBRE_DB: bookmedik
    ports:
      - 8082:80
    depends_on:
      - db
  db:
    container_name: db-mariadb
    image: mariadb
    restart: always
    environment:
      MARIADB_ROOT_PASSWORD: root
      MARIADB_DATABASE: bookmedik
      MARIADB_USER: admin
      MARIADB_PASSWORD: admin
    volumes:
      - mariadb_data:/var/lib/mysql
volumes:
    mariadb_data:
</code></pre></div><p>Ahora levantamos los contenedores:</p> <div class="language- extra-class"><pre><code>docker-compose up -d
</code></pre></div><p>Podemos verlos funcionando con el siguiente comando:</p> <p>![image]</p> <p>Y si entramos desde el navegador web, debería funcionar correctamente:</p> <p>![image]</p> <h2 id="tarea-3-creacion-de-una-imagen-docker-con-una-aplicacion-web-desde-una-imagen-php"><a href="#tarea-3-creacion-de-una-imagen-docker-con-una-aplicacion-web-desde-una-imagen-php" class="header-anchor">#</a> Tarea 3: Creación de una imagen docker con una aplicación web desde una imagen PHP</h2> <ul><li><p><strong>Vamos a crear una imagen que se llame usuario/bookmedik:v2.</strong></p></li> <li><p><strong>Realiza la imagen docker de la aplicación a partir de la imagen oficial PHP que encuentras en docker hub. Lee la documentación de la imagen para configurar una imagen con apache2 y php, además seguramente tengas que instalar alguna extensión de php.</strong></p></li> <li><p><strong>Modifica el fichero docker-compose.yml` para probar esta imagen.</strong></p></li></ul> <h2 id="tarea-4-ejecucion-de-una-aplicacion-php-en-docker-con-nginx-optativa"><a href="#tarea-4-ejecucion-de-una-aplicacion-php-en-docker-con-nginx-optativa" class="header-anchor">#</a> Tarea 4: Ejecución de una aplicación PHP en docker con nginx (OPTATIVA)</h2> <ul><li><p><strong>Vamos a crear una imagen que se llame usuario/bookmedik:v3.</strong></p></li> <li><p><strong>En este caso queremos usar un contenedor que utilice nginx para servir la aplicación PHP. Puedes crear la imagen desde una imagen base debian o ubuntu o desde la imagen oficial de nginx.</strong></p></li> <li><p><strong>Vamos a crear otro contenedor que sirva php-fpm.</strong></p></li> <li><p><strong>Para que funcione de forma adecuada el php-fpm tiene que tener acceso al directorio donde se encuentra la aplicación.</strong></p></li> <li><p><strong>Y finalmente nuestro contenedor con la aplicación.</strong></p></li> <li><p><strong>Crea un script con docker compose que levante el escenario con los tres contenedores.</strong></p></li></ul> <p><strong>A lo mejor te puede ayudar el siguiente enlace: Dockerise your PHP application with Nginx and PHP7-FPM</strong></p> <h2 id="tarea-5-puesta-en-produccion-de-nuestra-aplicacion"><a href="#tarea-5-puesta-en-produccion-de-nuestra-aplicacion" class="header-anchor">#</a> Tarea 5: Puesta en producción de nuestra aplicación</h2> <ul><li><p><strong>Elige una de las tres imágenes y súbela a Docker Hub.</strong></p></li> <li><p><strong>En tu VPS instala Docker y utilizando el docker-compose.yml correspondiente, crea un contenedor en ella de la aplicación.</strong></p></li> <li><p><strong>Configura el nginx de tu VPS para que haga de proxy inverso y nos permita acceder a la aplicación con https://bookmedik.tudominio.xxx</strong></p></li></ul> <h2 id="tarea-6-modificacion-de-la-aplicacion"><a href="#tarea-6-modificacion-de-la-aplicacion" class="header-anchor">#</a> Tarea 6: Modificación de la aplicación</h2> <ul><li><p><strong>En el entorno de desarrollo vamos a hacer una modificación de la aplicación. Por ejemplo modifica el fichero core/app/view/login-view.php y pon tu nombre en la línea</strong></p></li> <li><p><strong>Vamos a trabajar con la primera imagen que construimos. Vuelve a crear la imagen con la etiqueta v1_2.</strong></p></li> <li><p><strong>Cambia el docker-compose para probar el cambio.</strong></p></li> <li><p><strong>Modifica la aplicación en producción.</strong></p></li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/oscarlucas22/edit/main/practicas/phpdocker.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <!----> <!----></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.3d4c9b3a.js" defer></script><script src="/assets/js/vendors~layout-Layout.9c203d77.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.711f6750.js" defer></script><script src="/assets/js/page-ImplantacióndeaplicacioneswebPHPendocker.291f14d4.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout.e69d9580.js" defer></script>
  </body>
</html>
