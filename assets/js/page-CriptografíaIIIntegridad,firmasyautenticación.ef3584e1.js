(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{553:function(e,a,o){e.exports=o.p+"assets/img/2-1.141e3ed2.png"},554:function(e,a,o){e.exports=o.p+"assets/img/4-1.ecfa163c.png"},555:function(e,a,o){e.exports=o.p+"assets/img/5-1.6b6c8b93.png"},556:function(e,a,o){e.exports=o.p+"assets/img/2-2.f6b595ad.png"},557:function(e,a,o){e.exports=o.p+"assets/img/2.1-2.852053ca.png"},558:function(e,a,o){e.exports=o.p+"assets/img/2.2-2.b766c94a.png"},559:function(e,a,o){e.exports=o.p+"assets/img/2.3-2.e7739cdc.png"},560:function(e,a,o){e.exports=o.p+"assets/img/2.4-2.19545c40.png"},561:function(e,a,o){e.exports=o.p+"assets/img/2.5-2.8c92e8e0.png"},562:function(e,a,o){e.exports=o.p+"assets/img/2.6-2.45ed638a.png"},563:function(e,a,o){e.exports=o.p+"assets/img/3-2.19f3f0f9.png"},564:function(e,a,o){e.exports=o.p+"assets/img/3.1-2.3b3e00cc.png"},565:function(e,a,o){e.exports=o.p+"assets/img/3.2-2.f5d435be.png"},566:function(e,a,o){e.exports=o.p+"assets/img/3.3-2.9f754479.png"},567:function(e,a,o){e.exports=o.p+"assets/img/1-3.2a448253.png"},568:function(e,a,o){e.exports=o.p+"assets/img/1.1-3.91030ad7.png"},569:function(e,a,o){e.exports=o.p+"assets/img/1.2-3.05774b90.png"},570:function(e,a,o){e.exports=o.p+"assets/img/1.3-3.2141e898.png"},571:function(e,a,o){e.exports=o.p+"assets/img/2-3.63596cd3.png"},572:function(e,a,o){e.exports=o.p+"assets/img/2.1-3.b42c2460.png"},573:function(e,a,o){e.exports=o.p+"assets/img/6-4.fff8367a.png"},574:function(e,a,o){e.exports=o.p+"assets/img/6.1-4.983fde5e.png"},575:function(e,a,o){e.exports=o.p+"assets/img/6.2-4.7e86b4a2.png"},576:function(e,a,o){e.exports=o.p+"assets/img/6.3-4.48c621d7.png"},860:function(e,a,o){"use strict";o.r(a);var r=o(1),s=Object(r.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"criptografia-ii-integridad-firmas-y-autenticacion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#criptografia-ii-integridad-firmas-y-autenticacion"}},[e._v("#")]),e._v(" Criptografía II: Integridad, firmas y autenticación")]),e._v(" "),a("h3",{attrs:{id:"tarea-1-firmas-electronicas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tarea-1-firmas-electronicas"}},[e._v("#")]),e._v(" Tarea 1: Firmas electrónicas")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("1.")])]),e._v(" "),a("strong",[e._v("Manda un documento y la firma electrónica del mismo a un compañero. Verifica la firma que tu has recibido.")])],1),e._v(" "),a("p",[e._v("He creado un documento y lo he firmado con el comando:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('gpg --detach-sign "nombre-del-fichero"\n')])])]),a("p",[e._v("Y verifico la firma con el siguiente comando:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('gpg --verify "nombre-del-fichero-del-compañero" "nombre-del-documento-firmado-del-compañero"\n')])])]),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("2.")])]),e._v(" "),a("strong",[e._v("¿Qué significa el mensaje que aparece en el momento de verificar la firma?")])],1),e._v(" "),a("p",[a("img",{attrs:{src:o(553),alt:"image"}})]),e._v(" "),a("p",[e._v("El mensaje que aparece es que no puedo acceder a el ya que no he firmado yo el mismo documento")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("3.")])]),e._v(" "),a("strong",[e._v("Vamos a crear un anillo de confianza entre los miembros de nuestra clase, para ello.")])],1),e._v(" "),a("ul",[a("li",[a("p",[e._v("Tu clave pública debe estar en un servidor de claves")])]),e._v(" "),a("li",[a("p",[e._v("Escribe tu fingerprint en un papel y dárselo a tu compañero, para que puede descargarse tu clave pública.")])]),e._v(" "),a("li",[a("p",[e._v("Te debes bajar al menos tres claves públicas de compañeros. Firma estas claves.")])]),e._v(" "),a("li",[a("p",[e._v("Tu te debes asegurar que tu clave pública es firmada por al menos tres compañeros de la clase.")])]),e._v(" "),a("li",[a("p",[e._v("Una vez que firmes una clave se la tendrás que devolver a su dueño, para que otra persona se la firme.")])]),e._v(" "),a("li",[a("p",[e._v("Cuando tengas las tres firmas sube la clave al servidor de claves y rellena tus datos en la tabla Claves públicas PGP 2020-2021")])]),e._v(" "),a("li",[a("p",[e._v("Asegurate que te vuelves a bajar las claves públicas de tus compañeros que tengan las tres firmas.")])])]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("4.")])]),e._v(" "),a("strong",[e._v("Muestra las firmas que tiene tu clave pública.")])],1),e._v(" "),a("p",[a("img",{attrs:{src:o(554),alt:"image"}})]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("5.")])]),e._v(" "),a("strong",[e._v("Comprueba que ya puedes verificar sin “problemas” una firma recibida por una persona en la que confías.")])],1),e._v(" "),a("p",[a("img",{attrs:{src:o(555),alt:"image"}})]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("6.")])]),e._v(" "),a("strong",[e._v("Comprueba que puedes verificar con confianza una firma de una persona en las que no confías, pero sin embargo si confía otra persona en la que tu tienes confianza total.")])],1),e._v(" "),a("h3",{attrs:{id:"tarea-2-correo-seguro-con-evolution-thunderbird"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tarea-2-correo-seguro-con-evolution-thunderbird"}},[e._v("#")]),e._v(" Tarea 2: Correo seguro con evolution/thunderbird")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("1.")])]),e._v(" "),a("strong",[e._v("Configura el cliente de correo evolution con tu cuenta de correo habitual")])],1),e._v(" "),a("p",[e._v("En mi caso he usado el cliente de correos thuderbird, para configurar este he tenido que introducir un nombre de usuario y mi correo electronico con mi correspondiente contraseña. Una vez que ya estan vinculados los dos a traves de un mensaje que me ha llegado a mi telefono movil para poder identificar de que era yo.")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("2.")])]),e._v(" "),a("strong",[e._v("Añade a la cuenta las opciones de seguridad para poder enviar correos firmados con tu clave privada o cifrar los mensajes para otros destinatarios.")])],1),e._v(" "),a("p",[e._v('Para confirurar esta parte, nos iremos a donde pone "Edit" y nos iremos a la parte donde pone "End-To-End Encryption" y ahi añadire mi clave privada dandole a la opcion de "Add Key":')]),e._v(" "),a("p",[a("img",{attrs:{src:o(556),alt:"image"}})]),e._v(" "),a("p",[e._v('Luego para a la hora de enviar un mensaje le daremos a la opcion de "Encrypt" que nos aparece arriba para insertar la clave publica del destinatario para que el mensaje enviado este encriptado y solo lo prodra desencriptar el destinatario ya que el tiene su clave privada:')]),e._v(" "),a("p",[a("img",{attrs:{src:o(557),alt:"image"}})]),e._v(" "),a("p",[e._v("Pasos a seguir:")]),e._v(" "),a("ul",[a("li",[e._v("Introducimos el correo del destinatario:")])]),e._v(" "),a("p",[a("img",{attrs:{src:o(558),alt:"image"}})]),e._v(" "),a("ul",[a("li",[e._v('Importamos la clave publica del destinatario cuando le demos al boton de "Resolve" que aparece abajo:')])]),e._v(" "),a("p",[a("img",{attrs:{src:o(559),alt:"image"}})]),e._v(" "),a("ul",[a("li",[e._v("Le damos a aceptar para verificar la clave que hemos importado:")])]),e._v(" "),a("p",[a("img",{attrs:{src:o(560),alt:"image"}})]),e._v(" "),a("ul",[a("li",[e._v('Cerraremos la centana que nos aparece cuando terminamos dandole al boton "Close":')])]),e._v(" "),a("p",[a("img",{attrs:{src:o(561),alt:"image"}})]),e._v(" "),a("ul",[a("li",[e._v('Ya habremos finalizado solo hara falta enviar el mensaje dandole al boton "Send" y le daremos a enviar:')])]),e._v(" "),a("p",[a("img",{attrs:{src:o(562),alt:"image"}})]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("3.")])]),e._v(" "),a("strong",[e._v("Envía y recibe varios mensajes con tus compañeros y comprueba el funcionamiento adecuado de GPG.")])],1),e._v(" "),a("p",[e._v("Le envio un correo a Angel desde thuderbird:")]),e._v(" "),a("p",[e._v("Como vemos en la siguiente imagen accedemos al correo a traves de thuderbird y veremos que podemos ver el interior del archivo:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(563),alt:"image"}})]),e._v(" "),a("p",[e._v("Como vemos en la siguiente imagen accedemos a traves de Gmail y veremos los fichero que estan encriptados:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(564),alt:"image"}})]),e._v(" "),a("p",[e._v("Recibo un envio a Angel:")]),e._v(" "),a("p",[e._v("Como vemos en la siguiente imagen accedemos a traves de thuderbird y veremos que podemos ver el interior del archivo:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(565),alt:"image"}})]),e._v(" "),a("p",[e._v("Como vemos en la siguiente imagen accedemos a traves de Gmail y veremos los ficheros que estan encriptados:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(566),alt:"image"}})]),e._v(" "),a("h3",{attrs:{id:"tarea-3-integridad-de-ficheros"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tarea-3-integridad-de-ficheros"}},[e._v("#")]),e._v(" Tarea 3: Integridad de ficheros")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("1.")])]),e._v(" "),a("strong",[e._v("Para validar el contenido de la imagen CD, solo asegúrese de usar la herramienta apropiada para sumas de verificación. Para cada versión publicada existen archivos de suma de comprobación con algoritmos fuertes (SHA256 y SHA512); debería usar las herramientas sha256sum o sha512sum para trabajar con ellos.")])],1),e._v(" "),a("p",[e._v("En primer lugar me he instalado las imagenes CD del link que habia en la pagina.")]),e._v(" "),a("p",[a("img",{attrs:{src:o(567),alt:"image"}})]),e._v(" "),a("p",[e._v("Primero obtendremos la clave publica de Debian, con la que verificaremos la firma realizada con su clave privada:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("gpg --keyserver keyring.debian.org --recv-keys 6294BE9B\n")])])]),a("p",[a("img",{attrs:{src:o(568),alt:"image"}})]),e._v(" "),a("p",[e._v("Veremos que contienen los ficheros:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(569),alt:"image"}})]),e._v(" "),a("p",[e._v("De las cuatro lineas que nos aparecen nos interesa la primera ya que esa es la que voy a comprobar.\nPara verificar el hash tendremos que hacer uso de las utilidades "),a("code",[e._v("sha256sum")]),e._v(" y "),a("code",[e._v("sha512sum")]),e._v(" que reciben un fichero y calculan su hash:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(570),alt:"image"}})]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("2.")])]),e._v(" "),a("strong",[e._v("Verifica que el contenido del hash que has utilizado no ha sido manipulado, usando la firma digital que encontrarás en el repositorio. Puedes encontrar una guía para realizarlo en este artículo: How to verify an authenticity of downloaded Debian ISO images.")])],1),e._v(" "),a("p",[e._v("En este caso utilizaremos en el comando la opcion '-c' que ira recorriendo de forma automatica el resultado en el fichero origen:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(571),alt:"image"}})]),e._v(" "),a("p",[e._v("Esto que acababo de hacer no te da la garantia de que los ficheros no hayan sido manipulados, ya que el suplantador podria haber modificado tambien el fichero en el que se muestra el resumen de los hash.\nDe manera que tendremos que verificar la firma con el uso de la opcion '--verify':")]),e._v(" "),a("p",[a("img",{attrs:{src:o(572),alt:"image"}})]),e._v(" "),a("h3",{attrs:{id:"tarea-4-integridad-y-autenticidad-apt-secure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tarea-4-integridad-y-autenticidad-apt-secure"}},[e._v("#")]),e._v(" Tarea 4: Integridad y autenticidad (apt secure)")]),e._v(" "),a("p",[a("strong",[e._v("Busca información sobre apt secure y responde las siguientes preguntas:")])]),e._v(" "),a("ul",[a("li",[e._v("1.¿Qué software utiliza apt secure para realizar la criptografía asimétrica?")])]),e._v(" "),a("p",[e._v("La herramienta que utiliza apt-secure para firmar y comprobar sus firmas es GPG")]),e._v(" "),a("ul",[a("li",[e._v("2.¿Para que sirve el comando apt-key? ¿Qué muestra el comando apt-key list?")])]),e._v(" "),a("p",[e._v("El comando apt-key sirve para permitir gestionar la lista de claves que utiliza 'apt' para autenticar paquetes.")]),e._v(" "),a("p",[e._v("El comando apt-key-list nos mostrara todas las claves consideradas de confianza para 'apt'")]),e._v(" "),a("ul",[a("li",[e._v("3.En que fichero se guarda el anillo de claves que guarda la herramienta apt-key?")])]),e._v(" "),a("p",[e._v("El anillo de claves que gestiona apt-key se encuentra en '/etc/apt/trusted.gpg' de forma que las nuevas claves se iran añadiendo a dicho fichero.")]),e._v(" "),a("ul",[a("li",[e._v("4.y 5.¿Qué contiene el archivo Release de un repositorio de paquetes?. ¿Y el archivo Release.gpg? Explica el proceso por el cual el sistema nos asegura que los ficheros que estamos descargando son legítimos.")])]),e._v(" "),a("p",[e._v("El archivo Release contiene una lista de los archivos Packages (incluyendo Packages.gz y Packages.xz) junto con sus hash MD5, SHA1, SHA256. Gracias a esto podremos comprobar que los ficheros Packages no han sido manipulados llevando a acabo una comprobacion del hash.")]),e._v(" "),a("p",[e._v("Por razones obvias, de nada servira este metodo si el posible impostor lograse modificar tambien el fichero Release, haciendonos creer que dado que los hash coincidan, no ha habido manipulacion de los mismos, de manera uqe para ello se llava a cabo un proceso de firmado del hash del fichero Release.")]),e._v(" "),a("p",[e._v("Cuando llevamos a cabo un apt update, se descargan los ficheros Packages.gz, Release y Release.gpg, ficheros que son necesarios para la hora de la descarga del paquete, puesto que lo primero que se hace es comprobar que el hash del paquete .deb coinciden con el indicado en el fichero Packages.gz, comprobando a su vez que coincide con el fichero Release, comprobando que dicho fichero se encuentra contenido en el fichero Release.gpg.")]),e._v(" "),a("ul",[a("li",[e._v("6.añade de forma correcta el repositorio de virtualbox añadiendo la clave pública de virtualbox como se indica en la documentación.")])]),e._v(" "),a("p",[e._v("En primer lugar lo que haremos es tratar de instalar VirtualBox, para asi demostrar que no se encuentran en los repositorios oficiales de Debian:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(573),alt:"image"}})]),e._v(" "),a("p",[e._v("Para poder instalarlo necesitamos añadir los repositorios de VirtualBox al fichero en el que se encuentran reflejados los repositorios disponibles (/etc/apt/sources.list):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('echo "deb https://download.virtualbox.org/virtualbox/debian buster contrib" >> /etc/apt/sources.list\n')])])]),a("p",[a("img",{attrs:{src:o(574),alt:"image"}})]),e._v(" "),a("p",[e._v("Tras hacer esto necesitamos añadir la clave publica de VirtualBox a nuestro anillo de claves de apt-key, ya que de lo contrario no podria verificar la firma del fichero Release que descargara de dicho repositorio:")]),e._v(" "),a("p",[a("img",{attrs:{src:o(575),alt:"image"}})]),e._v(" "),a("p",[a("img",{attrs:{src:o(576),alt:"image"}})]),e._v(" "),a("p",[e._v("Y una vez finalizado esto ya podremos instalar VirtualBox.")]),e._v(" "),a("h3",{attrs:{id:"tarea-5-autentificacion-ejemplo-ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tarea-5-autentificacion-ejemplo-ssh"}},[e._v("#")]),e._v(" Tarea 5: Autentificación: ejemplo SSH")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("1.")])]),e._v(" "),a("strong",[e._v("Explica los pasos que se producen entre el cliente y el servidor para que el protocolo cifre la información que se transmite? ¿Para qué se utiliza la criptografía simétrica? ¿Y la asimétrica?")])],1),e._v(" "),a("p",[e._v("Cuando un cliente se intenta conectar al servidor por medio de tcp, el servidor presenta los protocolos de cicfrado y las respectivas versiones que soporta. Si el cliente tiene un par similar de protocolo y version, se alcanza un acuerdo y se inicia la conexion con el protocolo aceptado. El cliente ha de autentificar al servidor, comprobando el host key que ha recibido, preguntando al usuario si confia en el mismo si es la primera vez que se conecta.")]),e._v(" "),a("p",[e._v("Una vez que esto se establece, las dos partes usan lo que se conoce como Algoritmo de Intercambio de Claves Diffie-Hellman para crear una clave simetrica. Este algoritmo permite que tanto el cliente como el servidor lleguen a una clave de cifrado compartida que se utilizara en adelante para cifrar toda la sesión de comunicacion.")]),e._v(" "),a("p",[e._v("Una vez establecido el cifrado simétrico para asegurar las comunicaciones entre el servidor y el cliente, el cliente debe autenticarse para permitir el acceso.")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("2.")])]),e._v(" "),a("strong",[e._v("Explica los dos métodos principales de autentificación: por contraseña y utilizando un par de claves públicas y privadas.")])],1),e._v(" "),a("p",[e._v("Por contraseña: Se le pide la contraseña al usuario asociada al usuario al que esta tratando de conectarse. Estas credenciales pasan a travex del tunel cifrado simetricamente con seguridad.")]),e._v(" "),a("p",[e._v("Par de claves: El usuario tiene su clave publica almacenada en el servidor de manera que a la hora de realizar la conexion, el usuario se presenta y le indica al servidor que es el dueño de dica clave. El servidor desconfia, por lo que le plantea un desafio que consiste en encriptar un mensaje con dicha clave publica, enviandoselo encriptado al usuario que trata de acceder el cual debe descrifrarlo haciendo uso de la clave privada asociada a dicha clave publica.")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("3.")])]),e._v(" "),a("strong",[e._v("En el cliente para que sirve el contenido que se guarda en el fichero ~/.ssh/know_hosts?")])],1),e._v(" "),a("p",[e._v("El contenido que se guarda en el fichero sirve si en el caso de que al saltar el primer mensaje de la conexion la respuesta sea afirmativa es decir, que confia en el otro extremo (servidor) se añadira el host key al fichero '~/.ssh/know_hosts', de manera que para la siguiente ocasion no se le preguntara al cliente si confia, sino que mirara en dicho fichero para comprobar su previa existencia.")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("4.")])]),e._v(" "),a("strong",[e._v("¿Qué significa este mensaje que aparece la primera vez que nos conectamos a un servidor?")])],1),e._v(" "),a("p",[e._v("Cuando el cliente lleva a cabo la conexion tcp con el servidor, este debe ser autenticado por el cliente. Si es la primera vez que se llava a cabo dicha conexion, se mostrara el mensaje que se menciona.")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("5.")])]),e._v(" "),a("strong",[e._v("En ocasiones cuando estamos trabajando en el cloud, y reutilizamos una ip flotante nos aparece este mensaje:")])],1),e._v(" "),a("p",[e._v("Para solucionar este problema tendriamos que borrar la linea correspondiente a dicho host en el fichero ~/.ssh/known_hosts. Normalmente, en el propio mensaje de advertencia te dice explicitamente el comando a ejecutar para borrar dicha linea.")]),e._v(" "),a("p",[a("font",{attrs:{color:"#00ff00"}},[a("strong",[e._v("6.")])]),e._v(" "),a("strong",[e._v("¿Qué guardamos y para qué sirve el fichero en el servidor ~/.ssh/authorized_keys?")])],1),e._v(" "),a("p",[e._v("En el guardaremos nuestra clave publica para asi poder acceder al servidor por medio de nuestra clave privada")])])}),[],!1,null,null,null);a.default=s.exports}}]);