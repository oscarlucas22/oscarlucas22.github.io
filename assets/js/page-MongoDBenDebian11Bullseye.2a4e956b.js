(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1147:function(a,s,e){"use strict";e.r(s);var o=e(1),t=Object(o.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mongodb-en-debian-11-bullseye"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-en-debian-11-bullseye"}},[a._v("#")]),a._v(" MongoDB en Debian 11 Bullseye")]),a._v(" "),s("p",[s("img",{attrs:{src:e(928),alt:"image"}})]),a._v(" "),s("h2",{attrs:{id:"instalacion-de-mongodb-en-debian-11-bullseye"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#instalacion-de-mongodb-en-debian-11-bullseye"}},[a._v("#")]),a._v(" Instalación de MongoDB en Debian 11 Bullseye")]),a._v(" "),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 1")])]),a._v(" Instalar paquetes requeridos")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo apt install dirmngr gnupg apt-transport-https software-properties-common ca-certificates curl -y\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 2")])]),a._v(" Importar repositorio de MongoDB")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo wget -O- https://www.mongodb.org/static/pgp/server-5.0.asc | gpg --dearmor | sudo tee /usr/share/keyrings/mongodb.gpg\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 3")])]),a._v(" Agregamos el repositorio")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("echo 'deb [signed-by=/usr/share/keyrings/mongodb.gpg] http://repo.mongodb.org/apt/debian buster/mongodb-org/5.0 main' | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 4")])]),a._v(" Actualizamos")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo apt-get update\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 5")])]),a._v(" Instalar MongoDB 5.0")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo apt install mongodb-org -y\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 6")])]),a._v(" Activamos el servicio de mongodb")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo systemctl enable mongod --now\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 7")])]),a._v(" Verificamos la versión")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("mongo --eval 'db.runCommand({ connectionStatus: 1 })'\n")])])]),s("p",[s("img",{attrs:{src:e(929),alt:"image"}})]),a._v(" "),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 8")])]),a._v(" Configurar la seguridad de MongoDB")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo nano /etc/mongod.conf\n")])])]),s("hr"),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("security:\n    authorization: enabled\n")])])]),s("p",[s("img",{attrs:{src:e(930),alt:"image"}})]),a._v(" "),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 9")])]),a._v(" Reiniciamos servicio")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo systemctl restart mongod\n")])])]),s("h2",{attrs:{id:"creacion-de-usuario-administrador"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creacion-de-usuario-administrador"}},[a._v("#")]),a._v(" Creación de usuario administrador")]),a._v(" "),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 1")])]),a._v(" Crear usuario administrador en MongoDB")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("mongosh\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 2")])]),a._v(" Nos conectamos como administrador")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("use admin\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 3")])]),a._v(" Creamos usuario")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v('db.createUser(\n    {\n        user: "lucas", \n        pwd: "admin", \n        roles: [{ role: "userAdminAnyDatabase", db: "admin" }, "readWriteAnyDatabase"]\n    }\n)\n')])])]),s("p",[s("img",{attrs:{src:e(931),alt:"image"}})]),a._v(" "),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 4")])]),a._v(" Nos conectamos")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("mongosh -u lucas\n")])])]),s("hr"),a._v(" "),s("h2",{attrs:{id:"ayuda-sobre-manejo-en-mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ayuda-sobre-manejo-en-mongodb"}},[a._v("#")]),a._v(" Ayuda sobre manejo en MongoDB")]),a._v(" "),s("h3",{attrs:{id:"creacion-de-base-de-datos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creacion-de-base-de-datos"}},[a._v("#")]),a._v(" Creación de base de datos")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("use <nombre-database>\n")])])]),s("h3",{attrs:{id:"usuario"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usuario"}},[a._v("#")]),a._v(" Usuario")]),a._v(" "),s("p",[s("strong",[a._v("Creacion de usuario")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v('db.createUser(\n    {\n        user: "usuario", \n        pwd: "passwd", \n        roles: []\n    }\n)\n')])])]),s("p",[s("strong",[a._v("Borrar usuario")])]),a._v(" "),s("p",[a._v('db.dropUser("usuario")')]),a._v(" "),s("h3",{attrs:{id:"colecciones"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#colecciones"}},[a._v("#")]),a._v(" Colecciones")]),a._v(" "),s("p",[s("strong",[a._v("Crear coleccion")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v('db.createCollection("collection")\n')])])]),s("p",[s("strong",[a._v("Insertar valores")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v('db.collection.insertMany([\n{ dato1: "dato", dato1: "dato" },\n{ dato2: "dato", dato2: "dato" }\n])\n')])])]),s("h3",{attrs:{id:"uso-de-privilegios-roles"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#uso-de-privilegios-roles"}},[a._v("#")]),a._v(" Uso de privilegios (Roles)")]),a._v(" "),s("p",[s("strong",[a._v("Crear rol")])]),a._v(" "),s("p",[a._v("Ejemplo de privilegio de solo lectura")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v('db.createRole({role: "nombre-role", privileges:[{resource: {db:"nombre-db",collection:"nombre-collection"},actions:["find"]}],roles:[]})\n')])])]),s("p",[a._v("Se la asignamos a un usuario")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v('db.grantRolesToUser("usuario",[{role:"nombre-role",db:"nombre-db"}])\n')])])]),s("hr"),a._v(" "),s("p",[s("strong",[a._v("Listar base de datos")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("show dbs\n")])])]),s("p",[s("strong",[a._v("Verificar la base de datos actual")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("db\n")])])]),s("p",[s("strong",[a._v("Eliminar base de datos")])]),a._v(" "),s("p",[a._v("Hacerlo dentro de la base de datos")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("db.dropDatabase()\n")])])]),s("p",[s("strong",[a._v("Importar json en MongoDB")])]),a._v(" "),s("p",[a._v("Hacerlo fuera de mongo")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("mongoimport --db NAME_BD --collection NAME_YOUR_COLLECTION --file 'ruta del json'\n")])])]),s("p",[s("strong",[a._v("Eliminar json de la base de datos")])]),a._v(" "),s("p",[a._v("Hacerlo dentro de la base de datos donde este el json")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("db.NAME_COLLECTION.drop()\n")])])]),s("p",[s("strong",[a._v("Mostrar la colección")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("db.nombre-collection.find()\n")])])]),s("h2",{attrs:{id:"acceso-remoto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#acceso-remoto"}},[a._v("#")]),a._v(" Acceso remoto")]),a._v(" "),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 1")])]),a._v(" Editaremos el fichero "),s("code",[a._v("mongod.conf")])],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo /etc/mongod.conf\n")])])]),s("p",[a._v("Ahí editaremos donde pone "),s("code",[a._v("bindIp")]),a._v(" escribiremos la ip del servidor, asi como se muestra en la imagen:")]),a._v(" "),s("p",[s("img",{attrs:{src:e(932),alt:"image"}})]),a._v(" "),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 2")])]),a._v(" Reiniciamos el servicio para que los cambios se guarden")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("sudo service mongod restart\n")])])]),s("p",[s("font",{attrs:{color:"#800080"}},[s("strong",[a._v("Paso 3")])]),a._v(" Nos iremos a la maquina cliente y nos conectaremos")],1),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("mongosh -u nombre-user -p password ip-server\n")])])]),s("p",[s("img",{attrs:{src:e(933),alt:"image"}})]),a._v(" "),s("p",[a._v("¡Gracias!")])])}),[],!1,null,null,null);s.default=t.exports},928:function(a,s,e){a.exports=e.p+"assets/img/mongodb.d3cc3e77.png"},929:function(a,s,e){a.exports=e.p+"assets/img/1-mongo.de6d556a.png"},930:function(a,s,e){a.exports=e.p+"assets/img/2-mongo.8366a746.png"},931:function(a,s,e){a.exports=e.p+"assets/img/3-mongo.c36a25bd.png"},932:function(a,s){a.exports="data:image/png;base64,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"},933:function(a,s,e){a.exports=e.p+"assets/img/5-mongo.9e4ebde0.png"}}]);