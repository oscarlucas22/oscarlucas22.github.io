(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1072:function(a,e,s){"use strict";s.r(e);var t=s(1),o=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"despliegue-de-aplicaciones-java"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#despliegue-de-aplicaciones-java"}},[a._v("#")]),a._v(" Despliegue de aplicaciones Java")]),a._v(" "),e("p",[a._v("Información de la "),e("a",{attrs:{href:"https://fp.josedomingo.org/iaw2223/5_java/practica.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Practica"),e("OutboundLink")],1)]),a._v(" "),e("h3",{attrs:{id:"tarea-1-desarrollo-y-despliegue-de-una-aplicacion-java-simple"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tarea-1-desarrollo-y-despliegue-de-una-aplicacion-java-simple"}},[a._v("#")]),a._v(" Tarea 1: Desarrollo y despliegue de una aplicación Java simple")]),a._v(" "),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 1")])]),a._v(" "),e("strong",[a._v("Clonamos el "),e("a",{attrs:{href:"https://github.com/josedom24/rock-paper-scissors",target:"_blank",rel:"noopener noreferrer"}},[a._v("repositorio"),e("OutboundLink")],1)])],1),a._v(" "),e("p",[a._v("Instalamos git si no lo tenemos:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("apt install git\n")])])]),e("p",[a._v("Y clonamos el repositorio:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("git clone https://github.com/josedom24/rock-paper-scissors.git\n")])])]),e("p",[a._v("Nota: Para seguir el siguiente paso debes de hacer este "),e("a",{attrs:{href:"https://fp.josedomingo.org/iaw2223/5_java/t1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Taller"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 2")])])],1),a._v(" "),e("p",[a._v("Entraremos dentro de la carpeta que se nos ha creado y ejecutaremos el siguiente comando:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("mvn package\n")])])]),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 3")])]),a._v(" "),e("strong",[a._v("Nos pasamos el fichero .war")])],1),a._v(" "),e("p",[a._v("Nos pasaremos por "),e("code",[a._v("scp")]),a._v(" a nuestra maquina local el archivo .war que estara dentro de la nueva carpeta que nos ha creado")]),a._v(" "),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 4")])]),a._v(" "),e("strong",[a._v("Buscaremos la en la web")])],1),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("`Ip-de-la-maquina:8080/manager/html`\n")])])]),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 5")])]),a._v(" "),e("strong",[a._v("Desplegamos la aplicación")])],1),a._v(" "),e("p",[a._v("Le introduciremos nuestro usuario y password y pincharemos en "),e("em",[a._v("examinar")]),a._v(" introduciremos nuestro .war y le daremos a "),e("em",[a._v("desplegar")]),a._v(" y nos saldra ya habilitada nuestra pagina.")]),a._v(" "),e("p",[e("img",{attrs:{src:s(698),alt:"image"}})]),a._v(" "),e("p",[e("img",{attrs:{src:s(699),alt:"image"}})]),a._v(" "),e("h3",{attrs:{id:"tarea-2-despliegue-de-un-cms-java"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tarea-2-despliegue-de-un-cms-java"}},[a._v("#")]),a._v(" Tarea 2: Despliegue de un CMS Java")]),a._v(" "),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 1")])]),a._v(" "),e("strong",[a._v("Descargar el fichero .war")])],1),a._v(" "),e("p",[e("a",{attrs:{href:"https://cloud.josedomingo.org/index.php/s/cwMj6NAZ4fNMoRA",target:"_blank",rel:"noopener noreferrer"}},[a._v("Fichero .war"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 2")])]),a._v(" "),e("strong",[a._v("Creamos un usuario en MySQL")])],1),a._v(" "),e("p",[a._v("Instalamos MySQL si no lo tenemos:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("sudo apt install mariadb-server -y\n")])])]),e("p",[a._v("Creamos un usuario:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("create user olucas_java;\n")])])]),e("hr"),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("grant all privileges on *.* to 'olucas_java'@'%' identified by 'root' with grant option;\n")])])]),e("hr"),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("flush privileges;\n")])])]),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 3")])]),a._v(" "),e("strong",[a._v("Accedemos a la aplicación para configurarla")])],1),a._v(" "),e("p",[a._v("Pinchamos en la aplicación:")]),a._v(" "),e("p",[a._v("![image]../images/IAW/java/2-java.png")]),a._v(" "),e("p",[a._v("Ponemos a continuación de la URL "),e("code",[a._v("/setup")]),a._v(" y nos aparecera lo siguiente:")]),a._v(" "),e("p",[e("img",{attrs:{src:s(700),alt:"image"}})]),a._v(" "),e("p",[e("img",{attrs:{src:s(701),alt:"image"}})]),a._v(" "),e("p",[a._v("En la siguiente ventana pondremos el usuarios y la contraseña que hemos creado en MySQL")]),a._v(" "),e("p",[e("img",{attrs:{src:s(702),alt:"image"}})]),a._v(" "),e("p",[e("img",{attrs:{src:s(703),alt:"image"}})]),a._v(" "),e("p",[e("img",{attrs:{src:s(704),alt:"image"}})]),a._v(" "),e("p",[e("font",{attrs:{color:"#FFA500"}},[e("strong",[a._v("Paso 4")])]),a._v(" "),e("strong",[a._v("Modificación en la aplicación")])],1),a._v(" "),e("p",[a._v("Despúes de que acabe la instalación haremos alguna modificación en la página entrando en la URL "),e("code",[a._v("Ip-maquina:8080/opencms/overview/")])]),a._v(" "),e("p",[a._v("Primero nos tendremos que loguear en la página con el usuario "),e("code",[a._v("Admin")]),a._v(" y la contraseña "),e("code",[a._v("admin")])]),a._v(" "),e("p",[a._v("Editaremos por ejemplo el cuadro rojo, y cambiaremos "),e("code",[a._v("Documentación")]),a._v(" por nuestro nombre mismo, para ello le daremos al lapiz para editar que aparece en la esquina superior derecha del cuadro rojo.")]),a._v(" "),e("p",[e("img",{attrs:{src:s(705),alt:"image"}})]),a._v(" "),e("p",[a._v("Y le daremos a publicar que aparece en la esquina superior izquierda de la página:")]),a._v(" "),e("p",[e("img",{attrs:{src:s(706),alt:"image"}})]),a._v(" "),e("h3",{attrs:{id:"tarea-3-acceso-a-las-aplicaciones"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tarea-3-acceso-a-las-aplicaciones"}},[a._v("#")]),a._v(" Tarea 3: Acceso a las aplicaciones")]),a._v(" "),e("p",[a._v("Habilitaremos un virtual host (en mi caso en nginx), si no tenemos instalado nginx lo instalaremos:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("apt install nginx\n")])])]),e("p",[a._v("Creamos el VirtualHost:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("sudo nano /etc/nginx/site-available/java.conf\n")])])]),e("hr"),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("server {\n    listen 80;\n    listen [::]:80;\n\n    index index.html index.htm index.nginx-debian.html;\n\n    server_name java.olucas.org;\n\n    location / {\n        return 301 http://$host/opencms/;\n    }\n\n    location /game{\n                proxy_pass http://localhost:8080/roshambo/;\n                include proxy_params;\n    }\t\n\n    location /opencms/{\n        proxy_pass http://localhost:8080;\n        include proxy_params;\t\n    }\n\n}\n")])])]),e("p",[a._v("Habilitaremos nuestro virtual host")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("cd /etc/nginx/site-enabled\n")])])]),e("hr"),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("sudo ln -s ../site-available/java.conf\n")])])]),e("p",[a._v("Y reiniciamos nginx")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("sudo systemctl restart nginx\n")])])]),e("p",[a._v("Pondremo en el "),e("code",[a._v("/etc/hosts")]),a._v(" de nuestra maquina lo siguiente:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("Ip-maquina  java.tunombre.org\n")])])]),e("p",[a._v("Cambiamos los permisos del directorio opencms situado en "),e("code",[a._v("/var/lib/tomcat9/webapps")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("sudo chmod 750 opencms\n")])])]),e("p",[a._v("Y ya tendiamos funcionando nuestra aplicación:")]),a._v(" "),e("p",[a._v("Aplicación Piedra, Papel o Tijeras:")]),a._v(" "),e("p",[e("img",{attrs:{src:s(707),alt:"image"}})]),a._v(" "),e("p",[a._v("Aplicación Opencms:")]),a._v(" "),e("p",[e("img",{attrs:{src:s(708),alt:"image"}})])])}),[],!1,null,null,null);e.default=o.exports},698:function(a,e,s){a.exports=s.p+"assets/img/1-java.f4d4fda6.png"},699:function(a,e,s){a.exports=s.p+"assets/img/2-java.5aef5044.png"},700:function(a,e,s){a.exports=s.p+"assets/img/3-java.aad75cea.png"},701:function(a,e,s){a.exports=s.p+"assets/img/4-java.a62482c7.png"},702:function(a,e,s){a.exports=s.p+"assets/img/5-java.80c72239.png"},703:function(a,e,s){a.exports=s.p+"assets/img/6-java.3f3c8b32.png"},704:function(a,e,s){a.exports=s.p+"assets/img/7-java.f4cca7dc.png"},705:function(a,e,s){a.exports=s.p+"assets/img/8-java.a0f2f0e6.png"},706:function(a,e,s){a.exports=s.p+"assets/img/9-java.b9ceb609.png"},707:function(a,e,s){a.exports=s.p+"assets/img/10-java.01438252.png"},708:function(a,e,s){a.exports=s.p+"assets/img/11-java.00e40bbf.png"}}]);